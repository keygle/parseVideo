/* Vampire.js, parse_video/lib/bks1/o/enc
 * last_update 2015-07-17 16:06 GMT+0800 CST
 */

//	import flash.utils.Dictionary;
//	import flash.utils.getTimer;

// base functions
	function int(n) {
		return Math.floor(n);
	}

// public class Vampire extends Object
// public static var kcuf:Array = [];
// private static var var_3:Dictionary = null;

var Vampire = {};
var kcuf = [];
var var_3 = null;

// NOTE fix kcuf here

// NOTE from com.qiyi.player.core.model.impls.pub Settings.as
	function fix1() {
		// NOTE sub functions here
		function fa684eceee76fc522773286a895bc8436() {
			return 'b';
		}
		function fb53b3a3d6ab90ce0268229151c9bde11() {
			return '3';
		}
		function f9f61408e3afb633e50cdf1b20de6f466() {
			return 'c';
		}
		
		// Vampire.kcuf.push(_instance.fa684eceee76fc522773286a895bc8436);
		// Vampire.kcuf.push(_instance.fb53b3a3d6ab90ce0268229151c9bde11);
		// Vampire.kcuf.push(_instance.f9f61408e3afb633e50cdf1b20de6f466);
		kcuf.push(fa684eceee76fc522773286a895bc8436);
		kcuf.push(fb53b3a3d6ab90ce0268229151c9bde11);
		kcuf.push(f9f61408e3afb633e50cdf1b20de6f466);
	}

// NOTE from com.qiyi.player.core.model.impls.pub Statistics.as
	function fix2() {
		// NOTE sub functions here
		var f72b32a1f754ba1c09b3695e0cb6cde7f = function() {
			return '5';
		};
		var fe2ef524fbf3d9fe611d5a8e90fefdc9c = function() {
			return 'a';
		};
		var fed3d2c21991e3bef5e069713af9fa6ca = function() {
			return '4';
		};
		var fac627ab1ccbdb62ec96e702f07f6425b = function() {
			return '7';
		};
		
		// Vampire.kcuf.push(f72b32a1f754ba1c09b3695e0cb6cde7f);
		// Vampire.kcuf.push(fe2ef524fbf3d9fe611d5a8e90fefdc9c);
		// Vampire.kcuf.push(fed3d2c21991e3bef5e069713af9fa6ca);
		// Vampire.kcuf.push(fac627ab1ccbdb62ec96e702f07f6425b);
		kcuf.push(f72b32a1f754ba1c09b3695e0cb6cde7f);
		kcuf.push(fe2ef524fbf3d9fe611d5a8e90fefdc9c);
		kcuf.push(fed3d2c21991e3bef5e069713af9fa6ca);
		kcuf.push(fac627ab1ccbdb62ec96e702f07f6425b);
	}

// NOTE from com.qiyi.player.core.model.utils LogManager.as
	function fix3() {
		var f642e92efb79421734881b53e1e1b18b6 = function() {
			return 'e';
		};
		var ff457c545a9ded88f18ecee47145a72c0 = function() {
			return '0';
		};
		var fc0c7c76d30bd3dcaefc96f40275bdc0a = function() {
			return 'f';
		};
		
		//
		kcuf.push(f642e92efb79421734881b53e1e1b18b6);
		kcuf.push(ff457c545a9ded88f18ecee47145a72c0);
		kcuf.push(fc0c7c76d30bd3dcaefc96f40275bdc0a);
	}

// NOTE from com.qiyi.player.core.video.render StageVideoManager.as
	function fix4() {
		//
		function ff899139df5e1059396431415e770c6dd() {
			return '9';
		}
		
		function f38b3eff8baf56627478ec76a704e9b52() {
			return '6';
		}
		
		function fec8956637a99787bd197eacd77acce5e() {
			return '8';
		}
		
		//
		kcuf.push(ff899139df5e1059396431415e770c6dd);
		kcuf.push(f38b3eff8baf56627478ec76a704e9b52);
		kcuf.push(fec8956637a99787bd197eacd77acce5e);
	}

// NOTE from com.qiyi.player.core CoreManager.as
	function fix5() {
		//
		function f2838023a778dfaecdc212708f721b788() {
			return '2';
		}
		
		function f9a1158154dfa42caddbd0694a4e9bdc8() {
			return 'd';
		}
		
		function fd82c8d1619ad8176d665453cfb2e55f0() {
			return '1';
		}
		
		//
		kcuf.push(f2838023a778dfaecdc212708f721b788);
		kcuf.push(f9a1158154dfa42caddbd0694a4e9bdc8);
		kcuf.push(fd82c8d1619ad8176d665453cfb2e55f0);
	}

// fix kcuf list
var _fix_list = [
	fix1, 
	fix2, 
	fix3, 
	fix4, 
	fix5, 
];

// suck(tvid, flash_tm)
// public static function suck(param1:String) : Object
	function suck(tvid, flash_tm) {
		
		var param1 = tvid;
		
		// var var_8:Array = null;
		var var_8 = null;
		
		// functions list
		var fb2f5ff47436671b6e533d8dc3614845d = null;
		var f2510c39011c5be704182423e3a695e91 = null;
		var f865c0c0b4ab0e063e5caa3387c1a8741 = null;
		var f363b122c528f54df4a0446b6bab05515 = null;
		var f8ce4b16b22b58894aa86c421e8759df3 = null;
		var f2db95e8e1a9267b7a1188556b2013b33 = null;
		var f6f8f57715090da2632453988d9a1501b = null;
		var f7b8b965ad4bca0e41ab51de7b31363a1 = null;
		var fd95679752134a2d9eb61dbd7b91c4bcc = null;
		var f83878c91171338902e0fe0fb97a8c47a = null;
		var f642e92efb79421734881b53e1e1b18b6 = null;
		var f03c7c0ace395d80182db07ae2c30f034 = null;
		var ff457c545a9ded88f18ecee47145a72c0 = null;
		var fc0c7c76d30bd3dcaefc96f40275bdc0a = null;
		var fe358efa489f58062f10dd7316b65649e = null;
		var f2838023a778dfaecdc212708f721b788 = null;
		var f9a1158154dfa42caddbd0694a4e9bdc8 = null;
		var fd82c8d1619ad8176d665453cfb2e55f0 = null;
		var fa684eceee76fc522773286a895bc8436 = null;
		var f7b774effe4a349c6dd82ad4f4f21d34c = null;
		var fe2ef524fbf3d9fe611d5a8e90fefdc9c = null;
		var fac627ab1ccbdb62ec96e702f07f6425b = null;
		var f9e3669d19b675bd57058fd4664205d2a = null;
		var fec8956637a99787bd197eacd77acce5e = null;
		var f7694f4a66316e53c8cdd9d9954bd611d = null;
		var f4b43b0aee35624cd95b910189b3dc231 = null;
		
		// var var_19:String = null;
		// var var_20:int = 0;
		// var var_21:int = 0;
		// var var_22:int = 0;
		// var var_23:int = 0;
		// var var_5:String = param1;
		var var_19 = null;
		var var_20 = 0;
		var var_21 = 0;
		var var_22 = 0;
		var var_23 = 0;
		var var_5 = param1;	// TOTE var_5, tvid
		
		if (var_3 == null) {
			// var_3 = new Dictionary();
			var_3 = {};
		}
		
		// NOTE var_6, append push function
		var var_6 = function(param1, param2) {
			param1.push(param2);
		};
		
		var var_7 = [];
		var_8 = [];
		
		fb2f5ff47436671b6e533d8dc3614845d = function() {
			return var_8.indexOf(fd95679752134a2d9eb61dbd7b91c4bcc);
		};
		
		var_3["cfcd208495d565ef66e7dff9f98764da"] = fb2f5ff47436671b6e533d8dc3614845d;
		
		var_6(var_7,"37a6259cc0c1dae299a7866489dff0bd");
		var_6(var_7,"c81e728d9d4c2f636f067f89cc14862c");
		
		f2510c39011c5be704182423e3a695e91 = function() {
			return var_8.indexOf(f865c0c0b4ab0e063e5caa3387c1a8741);
		};
		
		var_3["c4ca4238a0b923820dcc509a6f75849b"] = f2510c39011c5be704182423e3a695e91;
		
		var_6(var_7,"eccbc87e4b5ce2fe28308fd9f2a7baf3");
		var_6(var_7,"e4da3b7fbbce2345d7772b0674a318d5");
		var_6(var_7,"a87ff679a2f3e71d9181a67b7542122c");
		var_6(var_7,"0cc175b9c0f1b6a831c399e269772661");
		
		f865c0c0b4ab0e063e5caa3387c1a8741 = function() {
			return var_8.indexOf(f9e3669d19b675bd57058fd4664205d2a);
		};
		
		var_3["c81e728d9d4c2f636f067f89cc14862c"] = f865c0c0b4ab0e063e5caa3387c1a8741;
		
		var_6(var_7,"92eb5ffee6ae2fec3ad71c777531578f");
		var_6(var_7,"8277e0910d750195b448797616e091ad");
		
		f363b122c528f54df4a0446b6bab05515 = function() {
			return var_8.indexOf(fb2f5ff47436671b6e533d8dc3614845d);
		};
		
		var_3["eccbc87e4b5ce2fe28308fd9f2a7baf3"] = f363b122c528f54df4a0446b6bab05515;
		
		var_6(var_7,"8fa14cdd754f91cc6554c9e71929cce7");
		var_6(var_7,"8fa14cdd754f91cc6554c9e71929cce7");
		var_6(var_7,"8fa14cdd754f91cc6554c9e71929cce7");
		var_6(var_7,"e1671797c52e15f763380b45e841ec32");
		var_6(var_7,"8f14e45fceea167a5a36dedd4bea2543");
		
		f8ce4b16b22b58894aa86c421e8759df3 = function() {
			return var_8.indexOf(fe358efa489f58062f10dd7316b65649e);
		};
		
		var_3["a87ff679a2f3e71d9181a67b7542122c"] = f8ce4b16b22b58894aa86c421e8759df3;
		
		var_6(var_7,"1679091c5a880faf6fb5e6087eb1b2dc");
		var_6(var_7,"4a8a08f09d37b73795649038408b5f33");
		
		f2db95e8e1a9267b7a1188556b2013b33 = function() {
			return var_8.indexOf(f363b122c528f54df4a0446b6bab05515);
		};
		
		var_3["e4da3b7fbbce2345d7772b0674a318d5"] = f2db95e8e1a9267b7a1188556b2013b33;
		
		var_6(var_7,"cfcd208495d565ef66e7dff9f98764da");
		var_6(var_7,"45c48cce2e2d7fbdea1afc51c7c6ad26");
		var_6(var_7,"0cc175b9c0f1b6a831c399e269772661");
		var_6(var_7,"4a8a08f09d37b73795649038408b5f33");
		
		f6f8f57715090da2632453988d9a1501b = function() {
			return var_8.indexOf(f4b43b0aee35624cd95b910189b3dc231);
		};
		
		var_3["1679091c5a880faf6fb5e6087eb1b2dc"] = f6f8f57715090da2632453988d9a1501b;
		
		var_6(var_7,"eccbc87e4b5ce2fe28308fd9f2a7baf3");
		var_6(var_7,"0cc175b9c0f1b6a831c399e269772661");
		var_6(var_7,"c9f0f895fb98ab9159f51fd0297e236d");
		var_6(var_7,"8fa14cdd754f91cc6554c9e71929cce7");
		
		f7b8b965ad4bca0e41ab51de7b31363a1 = function() {
			return var_8.indexOf(f2510c39011c5be704182423e3a695e91);
		};
		
		var_3["8f14e45fceea167a5a36dedd4bea2543"] = f7b8b965ad4bca0e41ab51de7b31363a1;
		
		var_6(var_7,"eccbc87e4b5ce2fe28308fd9f2a7baf3");
		var_6(var_7,"8f14e45fceea167a5a36dedd4bea2543");
		var_6(var_7,"8fa14cdd754f91cc6554c9e71929cce7");
		var_6(var_7,"e1671797c52e15f763380b45e841ec32");
		var_6(var_7,"0cc175b9c0f1b6a831c399e269772661");
		
		fd95679752134a2d9eb61dbd7b91c4bcc = function() {
			return var_8.indexOf(f03c7c0ace395d80182db07ae2c30f034);
		};
		
		var_3["c9f0f895fb98ab9159f51fd0297e236d"] = fd95679752134a2d9eb61dbd7b91c4bcc;
		
		var_6(var_7,"92eb5ffee6ae2fec3ad71c777531578f");
		var_6(var_7,"e1671797c52e15f763380b45e841ec32");
		
		f83878c91171338902e0fe0fb97a8c47a = function() {
			return var_8.indexOf(f7b8b965ad4bca0e41ab51de7b31363a1);
		};
		
		var_3["45c48cce2e2d7fbdea1afc51c7c6ad26"] = f83878c91171338902e0fe0fb97a8c47a;
		
		var_6(var_7,"c4ca4238a0b923820dcc509a6f75849b");
		var_6(var_7,"c4ca4238a0b923820dcc509a6f75849b");
		var_6(var_7,"92eb5ffee6ae2fec3ad71c777531578f");
		var_6(var_7,"d41d8cd98f00b204e9800998ecf8427e");
		
		var var_9 = function(param1) {
			return String.fromCharCode(param1);
		};
		var var_10 = function(param1) {
			return param1 > 0;
		};
		var var_11 = function(param1, param2) {
			var_6(param1,param2);
		};
		
		var var_12 = [];
		
		while ('0' < '1') {	// '0' < '1', true
			f7694f4a66316e53c8cdd9d9954bd611d = function() {
				return var_8.indexOf(f7694f4a66316e53c8cdd9d9954bd611d);
			};
			f4b43b0aee35624cd95b910189b3dc231 = function() {
				return var_8.indexOf(f6f8f57715090da2632453988d9a1501b);
			};
			
			if (var_7.shift() < var_7.pop()) {
				break;
			}
			
			var_19 = var_7.shift();
			
			var_20 = 0;
			var_21 = 0;
			
			var_22 = var_19.length / 2 - 1;
			var_23 = var_22;
			
			while (var_23 >= 0) {
				var_21 = var_21 + int(var_19.charAt((1 << 2) + var_23)) * (1 << var_22 - var_23);
				var_20 = var_20 + int(var_19.charAt((0 << 2) + var_23)) * (1 << var_22 - var_23);
				var_23--;
			}
			
			var_11(var_12,var_20);
			var_11(var_12,var_21);
		}
		
		var_3["0cc175b9c0f1b6a831c399e269772661"] = f7694f4a66316e53c8cdd9d9954bd611d;
		var_3["92eb5ffee6ae2fec3ad71c777531578f"] = f4b43b0aee35624cd95b910189b3dc231;
		
		f642e92efb79421734881b53e1e1b18b6 = function() {
			return var_8.indexOf(f642e92efb79421734881b53e1e1b18b6);
		};
		f03c7c0ace395d80182db07ae2c30f034 = function() {
			return var_8.indexOf(f2db95e8e1a9267b7a1188556b2013b33);
		};
		ff457c545a9ded88f18ecee47145a72c0 = function() {
			return var_8.indexOf(ff457c545a9ded88f18ecee47145a72c0);
		};
		fc0c7c76d30bd3dcaefc96f40275bdc0a = function() {
			return var_8.indexOf(fc0c7c76d30bd3dcaefc96f40275bdc0a);
		};
		fe358efa489f58062f10dd7316b65649e = function() {
			return var_8.indexOf(f83878c91171338902e0fe0fb97a8c47a);
		};
		f2838023a778dfaecdc212708f721b788 = function() {
			return var_8.indexOf(f2838023a778dfaecdc212708f721b788);
		};
		f9a1158154dfa42caddbd0694a4e9bdc8 = function() {
			return var_8.indexOf(f9a1158154dfa42caddbd0694a4e9bdc8);
		};
		fd82c8d1619ad8176d665453cfb2e55f0 = function() {
			return var_8.indexOf(fd82c8d1619ad8176d665453cfb2e55f0);
		};
		fa684eceee76fc522773286a895bc8436 = function() {
			return var_8.indexOf(fa684eceee76fc522773286a895bc8436);
		};
		f7b774effe4a349c6dd82ad4f4f21d34c = function() {
			return var_8.indexOf(f8ce4b16b22b58894aa86c421e8759df3);
		};
		fe2ef524fbf3d9fe611d5a8e90fefdc9c = function() {
			return var_8.indexOf(fe2ef524fbf3d9fe611d5a8e90fefdc9c);
		};
		fac627ab1ccbdb62ec96e702f07f6425b = function() {
			return var_8.indexOf(fac627ab1ccbdb62ec96e702f07f6425b);
		};
		f9e3669d19b675bd57058fd4664205d2a = function() {
			return var_8.indexOf(f7b774effe4a349c6dd82ad4f4f21d34c);
		};
		fec8956637a99787bd197eacd77acce5e = function() {
			return var_8.indexOf(fec8956637a99787bd197eacd77acce5e);
		};
		
		var_3["4a8a08f09d37b73795649038408b5f33"] = f03c7c0ace395d80182db07ae2c30f034;
		var_3["8277e0910d750195b448797616e091ad"] = fe358efa489f58062f10dd7316b65649e;
		
		var_8.push(fb2f5ff47436671b6e533d8dc3614845d);
		var_8.push(f2510c39011c5be704182423e3a695e91);
		var_8.push(f865c0c0b4ab0e063e5caa3387c1a8741);
		var_8.push(f363b122c528f54df4a0446b6bab05515);
		var_8.push(f8ce4b16b22b58894aa86c421e8759df3);
		var_8.push(f2db95e8e1a9267b7a1188556b2013b33);
		var_8.push(f6f8f57715090da2632453988d9a1501b);
		var_8.push(f7b8b965ad4bca0e41ab51de7b31363a1);
		var_8.push(fd95679752134a2d9eb61dbd7b91c4bcc);
		var_8.push(f83878c91171338902e0fe0fb97a8c47a);
		var_8.push(f7694f4a66316e53c8cdd9d9954bd611d);
		var_8.push(f4b43b0aee35624cd95b910189b3dc231);
		var_8.push(f03c7c0ace395d80182db07ae2c30f034);
		var_8.push(fe358efa489f58062f10dd7316b65649e);
		var_8.push(f7b774effe4a349c6dd82ad4f4f21d34c);
		var_8.push(f9e3669d19b675bd57058fd4664205d2a);
		
		var_3["e1671797c52e15f763380b45e841ec32"] = f7b774effe4a349c6dd82ad4f4f21d34c;
		var_3["8fa14cdd754f91cc6554c9e71929cce7"] = f9e3669d19b675bd57058fd4664205d2a;
		
		var_8.push(f642e92efb79421734881b53e1e1b18b6);
		var_8.push(ff457c545a9ded88f18ecee47145a72c0);
		var_8.push(fc0c7c76d30bd3dcaefc96f40275bdc0a);
		var_8.push(fec8956637a99787bd197eacd77acce5e);
		var_8.push(fe2ef524fbf3d9fe611d5a8e90fefdc9c);
		var_8.push(fac627ab1ccbdb62ec96e702f07f6425b);
		var_8.push(f9a1158154dfa42caddbd0694a4e9bdc8);
		
		while (var_7.length) {
			var_6(var_12,var_3[var_7.shift()]());
		}
		
		var var_13 = var_12.join('') + '7b11c5408ff342318da3e7c97b92e890';
		
		// FIXME debug here
		// console.log('enc: DEBUG: var_12.length ' + var_12.length);
		
		// NOTE from here DEBUG, var_12.length == 32
		
		// NOTE from here DEBUG
		// [15, 0, 3, 13, 10, 6, 9, 14, 14, 14, 4, 1, 11, 5, 8, 7, 10, 5, 0, 10, 12, 14, 0, 1, 14, 4, 10, 6, 4, 2, 2, 6]
		// used in kcuf, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, used all
		
		var var_14 = 0;
		while (var_14 < var_12.length) {
			// FIXME debug here
			// console.log('enc: DEBUG: kcuf[var_12[var_14]] ' + var_12[var_14]);
			
			try {
				var_12[var_14] = kcuf[var_12[var_14]]();
			} catch (e) {
				// FIXME debug here
				console.log('enc: DEBUG: ERROR: ' + e);
			}
			
			var_14++;
		}
		
		// var var_15:uint = getTimer();
		var var_15 = flash_tm;
		
		var_6(var_12,var_15);	// NOTE var_15 flash_tm
		var_6(var_12,var_5);	// NOTE var_5 tvid
		
		// NOTE var_16 should be the md5_hash function
		var var_16 = function(param1) {
			var k = null;
			var name_2 = 0;
			var name_1 = param1;
			k = [];
			name_2 = 16;
			
			var t = 0;
			while (t < name_2 << 2) {
				k[t] = 0 | Math.abs(Math.sin(++t)) * 4.294967296E9;
			}
			
			var add = function(param1, param2) {
				return ((param1 >> 1) + (param2 >> 1) << 1) + (param1 & 1) + (param2 & 1);
			};
			
			var msg = function() {
				var _loc1 = NaN;
				var _loc2 = NaN;
				var _loc3 = NaN;
				var _loc5 = 0;
				var _loc15 = null;
				var _loc4 = 0;
				var _loc6 = [];
				var _loc7 = unescape(encodeURI(name_1));
				var _loc8 = _loc7.length;
				var _loc9 = [_loc1 = 1732584193,_loc2 = -271733879,~_loc1,~_loc2];
				var _loc10 = [0.0,0.0,0.0,0.0];
				var _loc11 = [0,0,0,0];
				var _loc12 = [7,4 * 3,17,22,5,3 * 3,14,20,4,11,name_2,23,2 * 3,10,5 * 3,7 * 3];
				
				while (_loc4 <= _loc8) {
					_loc6[_loc4 >> 2] = _loc6[_loc4 >> 2] | (_loc7.charCodeAt(_loc4) || 1 << 7) << 8 * (_loc4++ % 4);
				}
				
				var _loc13 = (1 + (_loc8 + 8 >> 6)) * name_2 - 2;
				
				_loc6[_loc13] = _loc8 * 8;
				
				_loc4 = 0;
				while (_loc4 < _loc13) {
					_loc15 = _loc9.concat();
					
					_loc5 = 0;
					while (_loc5 < name_2 * 4) {
						_loc3 = _loc15[3];
						_loc1 = _loc15[1];
						_loc10[0] = _loc1 & (_loc2 = _loc15[2]) | ~_loc1 & _loc3;
						_loc10[1] = _loc3 & _loc1 | ~_loc3 & _loc2;
						_loc10[2] = _loc1 ^ _loc2 ^ _loc3;
						_loc10[3] = _loc2 ^ (_loc1 | ~_loc3);
						_loc11[0] = _loc5;
						_loc11[1] = 5 * _loc5 + 1;
						_loc11[2] = 3 * _loc5 + 5;
						_loc11[3] = 7 * _loc5;
						_loc15 = [_loc3 = _loc15[3],add(_loc1 = _loc15[1],(_loc3 = add(add(_loc15[0],_loc10[_loc8 = _loc5 >> 4]),add(k[_loc5],_loc6[_loc11[_loc8] % name_2 + _loc4]))) << (_loc8 = _loc12[4 * _loc8 + _loc5++ % 4]) | _loc3 >>> 32 - _loc8),_loc1,_loc2];
					}
					
					_loc5 = Math.sqrt(name_2);
					
					while (_loc5) {
						_loc9[--_loc5] = add(_loc9[_loc5],_loc15[_loc5]);
					}
					
					_loc4 = _loc4 + name_2;
				}
				
				var _loc14 = '';
				while (_loc5 < 32) {
					_loc14 = _loc14 + (_loc9[_loc5 >> 3] >> (1 ^ _loc5++ & 7) * 4 & 15).toString(name_2);
				}
				
				return _loc14;
			};
			
			return msg();
		};	// end md5_hash function
		
		// var var_18 = var_16(var_12.join(''));
		// NOTE get salt and raw here
		var _tmp_raw = var_12.join('');
		var var_18 = var_16(_tmp_raw);
		
		var var_17 = {};
		
		var_17.src = 'eknas';
		var_17.tm = var_15;
		var_17.sc = var_18;
		
		// NOTE add raw here
		var_17.raw = _tmp_raw;
		
		// done
		return var_17;
	}
// end suck(tvid, flash_tm)

// NOTE this class is no-use
/* NOTE just delete it
class EtvnetLtisenRE extends Object
{
	 
	private var var_1:Array = null;
	
	private var var_2:int;
	
	function EtvnetLtisenRE()
	{
		this.var_2 = 1 << 4;
		super();
		this.var_1 = new Array();
		this.var_1.push(this.f642e92efb79421734881b53e1e1b18b6);
		this.var_1.push(this.ff457c545a9ded88f18ecee47145a72c0);
		this.var_1.push(this.fc0c7c76d30bd3dcaefc96f40275bdc0a);
		this.var_1.push(this.f2838023a778dfaecdc212708f721b788);
		this.var_1.push(this.f9a1158154dfa42caddbd0694a4e9bdc8);
		this.var_1.push(this.fd82c8d1619ad8176d665453cfb2e55f0);
		this.var_1.push(this.fa684eceee76fc522773286a895bc8436);
		this.var_1.push(this.fb53b3a3d6ab90ce0268229151c9bde11);
		this.var_1.push(this.f9f61408e3afb633e50cdf1b20de6f466);
		this.var_1.push(this.f72b32a1f754ba1c09b3695e0cb6cde7f);
		this.var_1.push(this.fe2ef524fbf3d9fe611d5a8e90fefdc9c);
		this.var_1.push(this.fed3d2c21991e3bef5e069713af9fa6ca);
		this.var_1.push(this.fac627ab1ccbdb62ec96e702f07f6425b);
		this.var_1.push(this.ff899139df5e1059396431415e770c6dd);
		this.var_1.push(this.f38b3eff8baf56627478ec76a704e9b52);
		this.var_1.push(this.fec8956637a99787bd197eacd77acce5e);
	}
	
	public function f642e92efb79421734881b53e1e1b18b6() : String
	{
		return this.var_1.indexOf(this.fec8956637a99787bd197eacd77acce5e).toString(this.var_2);
	}
	
	public function ff457c545a9ded88f18ecee47145a72c0() : String
	{
		return this.var_1.indexOf(this.f642e92efb79421734881b53e1e1b18b6).toString(this.var_2);
	}
	
	public function fc0c7c76d30bd3dcaefc96f40275bdc0a() : String
	{
		return this.var_1.indexOf(this.f38b3eff8baf56627478ec76a704e9b52).toString(this.var_2);
	}
	
	public function f2838023a778dfaecdc212708f721b788() : String
	{
		return this.var_1.indexOf(this.ff457c545a9ded88f18ecee47145a72c0).toString(this.var_2);
	}
	
	public function f9a1158154dfa42caddbd0694a4e9bdc8() : String
	{
		return this.var_1.indexOf(this.ff899139df5e1059396431415e770c6dd).toString(this.var_2);
	}
	
	public function fd82c8d1619ad8176d665453cfb2e55f0() : String
	{
		return this.var_1.indexOf(this.fc0c7c76d30bd3dcaefc96f40275bdc0a).toString(this.var_2);
	}
	
	public function fa684eceee76fc522773286a895bc8436() : String
	{
		return this.var_1.indexOf(this.fac627ab1ccbdb62ec96e702f07f6425b).toString(this.var_2);
	}
	
	public function fb53b3a3d6ab90ce0268229151c9bde11() : String
	{
		return this.var_1.indexOf(this.f2838023a778dfaecdc212708f721b788).toString(this.var_2);
	}
	
	public function f9f61408e3afb633e50cdf1b20de6f466() : String
	{
		return this.var_1.indexOf(this.fed3d2c21991e3bef5e069713af9fa6ca).toString(this.var_2);
	}
	
	public function f72b32a1f754ba1c09b3695e0cb6cde7f() : String
	{
		return this.var_1.indexOf(this.f9a1158154dfa42caddbd0694a4e9bdc8).toString(this.var_2);
	}
	
	public function fe2ef524fbf3d9fe611d5a8e90fefdc9c() : String
	{
		return this.var_1.indexOf(this.fe2ef524fbf3d9fe611d5a8e90fefdc9c).toString(this.var_2);
	}
	
	public function fed3d2c21991e3bef5e069713af9fa6ca() : String
	{
		return this.var_1.indexOf(this.fd82c8d1619ad8176d665453cfb2e55f0).toString(this.var_2);
	}
	
	public function fac627ab1ccbdb62ec96e702f07f6425b() : String
	{
		return this.var_1.indexOf(this.fa684eceee76fc522773286a895bc8436).toString(this.var_2);
	}
	
	public function ff899139df5e1059396431415e770c6dd() : String
	{
		return this.var_1.indexOf(this.f72b32a1f754ba1c09b3695e0cb6cde7f).toString(this.var_2);
	}
	
	public function f38b3eff8baf56627478ec76a704e9b52() : String
	{
		return this.var_1.indexOf(this.fb53b3a3d6ab90ce0268229151c9bde11).toString(this.var_2);
	}
	
	public function fec8956637a99787bd197eacd77acce5e() : String
	{
		return this.var_1.indexOf(this.f9f61408e3afb633e50cdf1b20de6f466).toString(this.var_2);
	}
} */

// set kcuf function
	function set_kcuf(to) {
		kcuf = to;
		
		exports.kcuf = kcuf;
	}

// fix kcuf function
	function fix_kcuf(fi_list) {
		// reset kcuf first
		set_kcuf([]);
		
		// use given fi_list
		var flist = _fix_list;
		for (var i = 0; i < fi_list.length; i++) {
			var j = fi_list[i];
			var f = flist[j];
			// now fix it
			f();
		}
	}

// mix function
	function mix(tvid, tm) {
		// just use the right mix function
		return suck(tvid, tm);
	}

// test function
	function test1() {
		var tvid = '380158700';
		var tm = 8664;
		var enc = 'b17298a6c1ed6eebb423a0fd50c26918';
		
		// just run test
		var out = mix(tvid, tm);
		
		// add more info
		out._tvid = tvid;
		out._tm = tm;
		out._enc = enc;
		
		// check test result
		var result = (out.sc == enc);
		// add result
		out._result = result;
		
		// done
		return out;
	}

// test2, auto test salt
	function test2() {
		// gen test list
		var tlist = make_a_host([0, 1, 2, 3, 4]);
		
		// FIXME debug here
		console.log('test2: INFO: gen test list ... length ' + tlist.length);
		
		// check each type
		for (var i = 0; i < tlist.length; i++) {
			// test one
			console.log('test2: INFO: test ' + (i + 1) + ' of ' + tlist.length + ' ... ');
			
			// set kcuf first
			set_kcuf(tlist[i]);
			
			var result = test1();
			if (result._result = true) {
				// test OK
				console.log('test2: [ OK ] found result with tlist [' + tlist[i] + '] ');
				console.log(JSON.stringify(result));
				// no more test
				break;
			}
		}
	}

// NOTE for auto try salt

// make a host funcion
	function make_a_host(to) {
		// init vars
		var out = [];
		var pre = [];
		var rest = to.concat();
		
		// start generate
		make_a(out, pre, rest);
		// done
		return out;
	}
	
	function make_a(out, pre, rest) {
		
		// add one item
		for (var i = 0; i < rest.length; i++) {
			var now = rest[i];
			var rest2 = [].concat(rest.slice(0, i), rest.slice(i + 1, rest.length));
			
			// check rest2
			if (rest2.length < 1) {
				// make one item now
				var one = pre.concat(now);
				// add this item to out
				out.push(one);
			} else {	// increase pre and call sub
				var pre2 = pre.concat(now);
				make_a(out, pre2, rest2);
			}
		}
		// done
	}

/* try to export for node.js */
try {
	// global vars
	exports.kcuf = kcuf;
	
	exports.set_kcuf = set_kcuf;
	exports.fix_kcuf = fix_kcuf;
	
	// test function
	exports.test1 = test1;
	exports.test2 = test2;
	
	// make a host
	exports.make_a_host = make_a_host;
	
	// fix kcuf functions
	exports.fix1 = fix1;
	exports.fix2 = fix2;
	exports.fix3 = fix3;
	exports.fix4 = fix4;
	exports.fix5 = fix5;
	
	// functions
	exports.suck = suck;	// suck(tvid, flash_tm);
	
	exports.mix = mix;	// mix(tvid, flash_tm);
} catch (e) {
}

/* end Vampire.js */


